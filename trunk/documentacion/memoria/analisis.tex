\chapter{ANÁLISIS}
\label{chapterAnalisis}
Una vez que se han especificado los requerimientos para ambos sistemas, se realizará una descripción escrita del comportamiento mediante diagramas de casos de uso.

%%
%% Seccion 1
%%
\section{Modelo de análisis}
Un caso de uso es una secuencia de interacciones que se desarrollarán entre un sistema y sus actores en respuesta a un evento que inicia un actor principal sobre el propio sistema. Los diagramas de casos de uso sirven para especificar la comunicación y el comportamiento de un sistema mediante su interacción con los usuarios y/u otros sistemas.
Dentro de un diagrama de uso se tendrá que tener en cuenta las siguientes definiciones para una mejor comprensión del mismo:
\begin{itemize}
\item \textbf{Actores:}
Se le llama Actor a toda entidad externa al sistema que guarda una relación con este y que le demanda una funcionalidad. Se representa mediante una figura esquemática humanoide.
\item \textbf{Caso de uso:}
Expresa una unidad coherente de funcionalidad del sistema. Se representa en el diagrama de casos de uso mediante una elipse con el nombre del caso de uso en su interior.
\item \textbf{Relaciones:}
Las tres relaciones principales entre los casos de uso son soportadas por el estándar UML, el cual describe notación gráfica para esas relaciones.
	\begin{itemize}
	\item \textbf{Inclusión:}
	Es una forma de interacción, un caso de uso dado puede ``incluir'' otro. Esto es útil para extraer comportamientos verdaderamente comunes desde múltiples casos de uso a una des\-crip\-ción individual, desde el caso de uso que lo incluye hasta el caso de uso incluido. La notación es una flecha de punta abierta con línea discontinua, desde el caso de uso que lo incluye al caso de uso incluido, con la etiqueta «include».
	\item \textbf{Extensión:}
	Es otra forma de interacción, un caso de uso dado puede extender a otro. Esta relación indica que el comportamiento del caso de uso extensión puede ser insertado en el caso de uso extendido bajo ciertas condiciones. La notación es una flecha de punta abierta con línea discontinua, desde el caso de uso extensión al caso de uso extendido, con la etiqueta «extend».
	\item \textbf{Herencia:}
	En la tercera forma de relaciones entre casos de uso, existe una relación generalización/especialización. Un caso de uso dado puede estar en una forma especializada de un caso de uso exis\-ten\-te. La notación es una línea solida terminada en un triángulo dibujado desde el caso de uso especializado al caso de uso ge\-ne\-ral.	
	\end{itemize}
\end{itemize}

%%
%% Seccion 2
%%
\section{Casos de uso del modelo web}

%%
\subsection{Actores}
Dentro del sistema se distinguen cuatro perfiles concretos. Entre los cuales se encuentran los usuarios registrados, los participantes del concurso y los administradores, además de cualquier usuario no registrado que puede acceder al portal. Veamos ahora los casos de uso referente a los diferente perfiles que se han mencionado:
\begin{figure}[hb]
\centering
\includegraphics*[width=5cm]{imagenes/Actores.jpg}
\caption{Actores del sistema}
\label{Actores}
\end{figure}

%%
\subsection{Casos de usos de usuario}
En la siguiente figura se especifican los casos de usos referentes al perfil de un usuario no registrado.
\begin{figure}[hb]
\centering
\includegraphics*[width=13cm]{imagenes/User.jpg}
\caption{Perfil de usuario no registrado}
\label{User}
\end{figure}

\subsection{Casos de usos de usuario registrado}
A continuación se muestra el diagrama de casos de uso para un usuario que se corresponda con el perfil de un usuario registrado.
\newpage%%añadimos un retorno de pagina para que encaje
\begin{figure}[ht]
\centering
\includegraphics*[width=15cm]{imagenes/RegisteredUser.jpg}
\caption{Perfil de usuario registrado}
\label{RegisteredUser}
\end{figure}

\subsection{Casos de usos de participante}
En la siguiente figura se especifican los casos de usos referentes al perfil de un usuario participante.
\begin{figure}[htb]
\centering
\includegraphics*[width=13cm]{imagenes/Competitor.jpg}
\caption{Perfil de usuario participante}
\label{Competitor}
\end{figure}

\subsection{Casos de usos de administrador}
A continuación se muestra el diagrama de casos de uso para un usuario que se corresponda con el perfil de un usuario administrador.
\begin{figure}[htb]
\centering
\includegraphics*[width=13cm]{imagenes/Admin.jpg}
\caption{Perfil de usuario administrador}
\label{Admin}
\end{figure}


%%
%% Seccion 3
%%
\section{Casos de uso del modelo para dispositivos moviles}
\subsection{Actores}
En el caso del modelo para dispositivos moviles el número de actores no disminuye, pero se reduce considerablemente el número de casos de usos que se utilizan. En concreto, en el caso del perfil de administrador desaparecen completamente los casos de uso, ya que este modelo esta orientado exclusivamente al uso de usuarios registrados y participantes del concurso.
\subsection{Casos de usos de todos los perfiles}
A continuación se muestra el diagrama de casos de uso para un usuario que se corresponda con cada uno de los distintos perfiles.
\begin{figure}[htb]
\centering
\includegraphics*[width=12cm]{imagenes/UserMobile.jpg}
\caption{Perfiles del modelo para dispositivos moviles}
\label{UserMobile}
\end{figure}

%%
%% Seccion 4
%%
\newpage
\section{Explicación de los casos de uso}
Ahora que se han especificado los casos de uso para cada uno de los perfiles necesarios se realizará la explicacion de aquellos que se consideran más importantes dentro del sistema.
\subsection{Casos de usos de usuario}
Login\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Loguearse en el sistema. \\
  \hline 
  \textbf{Actores}  & Todos \\
  \hline
  \textbf{Precondiciones}  & Ningun usuario logueado en la sesión. El nombre de usuario y la contraseña tienen que coincidir con los datos almacenados en el sistema\\
  \hline 
  \textbf{Poscondiciones}  & El usuario queda logueado en el sistema y es redireccionado a la página inicial o la página de donde se venía si el login es producto de una redirección. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Registrar usuario}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Registrarse en el sistema. \\
  \hline 
  \textbf{Actores}  & Todos. \\
  \hline
  \textbf{Precondiciones}  & Ningun usuario logueado en la sesión. \\
  \hline 
  \textbf{Poscondiciones}  & El usuario se registra y queda logueado en el sistema. A su vez es redireccionado a la página inicial o la página de donde se venía si el login es producto de una redirección. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Visualizar los videos más votados}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra los videos mas votados. \\
  \hline 
  \textbf{Actores}  & Todos. \\
  \hline
  \textbf{Precondiciones}  & Ninguna. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}

\newpage
\textbf{Mostrar video}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra la información referente a un determinado video. \\
  \hline 
  \textbf{Actores}  & Todos. \\
  \hline
  \textbf{Precondiciones}  & El video tiene que existir. \\
  \hline 
  \textbf{Poscondiciones}  & El video tiene que ser reproducible. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Mostrar comentarios de un video}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra los comentarios que se han realizado referente a un determinado video. \\
  \hline 
  \textbf{Actores}  & Todos. \\
  \hline
  \textbf{Precondiciones}  & El video tiene que existir. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Mostrar comentarios del propietario de un video}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra los comentarios que se han realizado referente al propietario de un determinado video. \\
  \hline 
  \textbf{Actores}  & Todos. \\
  \hline
  \textbf{Precondiciones}  & El video y el propietario tienen que existir. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Buscar video}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Realiza la búsqueda de videos en función de las palabras clave proporcionadas. \\
  \hline 
  \textbf{Actores}  & Todos. \\
  \hline
  \textbf{Precondiciones}  & Ninguna.\\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}

\newpage
\subsection{Casos de usos de usuario registrado}

\textbf{Logout}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Cerrar la sesión creada al realizar login. \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión. \\
  \hline 
  \textbf{Poscondiciones}  & Ningun usuario logueado en la sesión. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Actualizar información}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Actualizar la información de un usuario, incluyen cambiar el password y cambiar el perfil de usuario registrado a usuario participante. \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión. \\
  \hline 
  \textbf{Poscondiciones}  & La información se actualiza correctamente en el sistema. \\
  \hline 
\end{tabular}
\newline\newline


\textbf{Mostrar mensajes}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra los mensajes enviados a un usuario. \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesion. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Eliminar mensaje}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Eliminar un mensaje enviado a un usuario. \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión y el mensaje debe existir. \\
  \hline 
  \textbf{Poscondiciones}  & Se elimina el mensaje del sistema. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Mostrar favoritos}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra los videos favoritos de un usuario. \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Añadir comentario}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Añadir un comentario a un usuario o a un video del sistema. \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión y el elemento al que se le referencia no debe de ser ni el propio usuario ni un video propiedad del usuario. \\
  \hline 
  \textbf{Poscondiciones}  & El comentario se almacena correctamente en el sistema. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Eliminar comentario}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Elimina un comentario a un usuario o a un video del sistema. \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión y el elemento al que se le referencia debe de ser propiedad del propio usuario. \\
  \hline 
  \textbf{Poscondiciones}  & El comentario se eliminar correctamente en el sistema. \\
  \hline 
\end{tabular}
\newline

\textbf{Votación semanal}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite votar un video, cuyo voto será contabilizado para las votaciones semanales del sistema \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión y el video al que se le referencia debe existir.\\
  \hline 
  \textbf{Poscondiciones}  & El voto se contabiliza para dicho video. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Quejarse sobre el contenido}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite quejarse sobre el contenido del sistema. (Usuario, video o comentario). \\
  \hline 
  \textbf{Actores}  & Usuarios registrados. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión y el contenido no debe ser del propio usuario. \\
  \hline 
  \textbf{Poscondiciones}  & La queja se almacena en el sistema. \\
  \hline 
\end{tabular}
\newline\newline


\subsection{Casos de usos de participante}

\textbf{Ver mis videos}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra los videos pertenecientes a un participante. \\
  \hline 
  \textbf{Actores}  & Usuarios participantes. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de participante. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Añadir video}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite añadir un video a la colección de un participante. \\
  \hline 
  \textbf{Actores}  & Usuarios participantes. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de participante. El video tiene que cumplir ciertas condiciones de formato. \\
  \hline 
  \textbf{Poscondiciones}  & El video se agrega al sistema. \\
  \hline 
\end{tabular}
\newline

\textbf{Eliminar video}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite eliminar un video de la colección de un participante. \\
  \hline 
  \textbf{Actores}  & Usuarios participantes. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de participante. El video tiene que que existir. \\
  \hline 
  \textbf{Poscondiciones}  & El video es eliminado del sistema. \\
  \hline 
\end{tabular}
\newline\newline


\textbf{Ver comentarios sobre mi}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Los comentarios realizados por otros usuarios sobre ti. \\
  \hline 
  \textbf{Actores}  & Usuarios participantes. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de participante y poseer videos propios. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}

\newpage
\textbf{Ver comentarios sobre mis videos}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Los comentarios realizados por otros usuarios sobre mis videos. \\
  \hline 
  \textbf{Actores}  & Usuarios participantes. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de participante y que el video que se referencia y el comentarista existan. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\subsection{Casos de usos de administrador}
\textbf{Revisar quejas sobre usuarios}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra al administrador las quejas realizadas sobre usuarios. \\
  \hline 
  \textbf{Actores}  & Usuario administrador. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de administrador. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Revisar quejas sobre videos}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra al administrador las quejas realizadas sobre videos. \\
  \hline 
  \textbf{Actores}  & Usuario administrador. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de administrador. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Revisar quejas sobre comentarios}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Muestra al administrador las quejas realizadas sobre comentarios. \\
  \hline 
  \textbf{Actores}  & Usuario administrador. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de administrador. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Eliminar usuario}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite al administrador eliminar la cuenta de un usuario. \\
  \hline 
  \textbf{Actores}  & Usuario administrador. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de administrador y que el usuario a eliminar exista y que no sea a su vez administrador. \\
  \hline 
  \textbf{Poscondiciones}  & El usuario se elimina del sistema. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Eliminar video}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite al administrador eliminar un video de un usuario. \\
  \hline 
  \textbf{Actores}  & Usuario administrador. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de administrador y que el video a eliminar exista. \\
  \hline 
  \textbf{Poscondiciones}  & El video se elimina del sistema. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Eliminar comentario}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite al administrador eliminar un comentario de un video de un usuario. \\
  \hline 
  \textbf{Actores}  & Usuario administrador. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de administrador y que el video y el comentarios a eliminar existan. \\
  \hline 
  \textbf{Poscondiciones}  & El comentario se elimina del sistema. \\
  \hline 
\end{tabular}
\newline\newline

\textbf{Obtener los mejores videos}\\\\
\begin{tabular}{|l|p{10cm}|}
  \hline
  \textbf{Objetivo} & Permite al administrador obtener una lista de los mejores videos según criterio. \\
  \hline 
  \textbf{Actores}  & Usuario administrador. \\
  \hline
  \textbf{Precondiciones}  & Tiene que haber un usuario logueado en la sesión con el perfil de administrador. \\
  \hline 
  \textbf{Poscondiciones}  & Ninguna. \\
  \hline 
\end{tabular}
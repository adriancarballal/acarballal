\chapter{Manual de modificación de interfaces}
Una de las grandes ventajas que presenta Tapestry 5 radica en la posibilidad de realizar diseño de la interfaz sin necesidad de tener conocimiento de como se implementa un markup. Esto permite que un diseñador gráfico con conocimientos de html puro sea capaz de realizar cambios a su gusto. En este apéndice se mostrará la forma de realizar estos cambios de manera sencilla, de modo que sirva a modo de manual para su modificación.
Antes de nada, cabe destacar que la modificaciones que se pueden realizar sobre la vista se pueden realizar de dos forma específicas:
\begin{itemize}
	\item Modificando el CSS asociado a las diferentes páginas, pero que obliga a que la estructura de la vista no sea modificable.
	\item Modificando las plantillas o tml asociados a cada página dentro de la implementación, lo cuál si permite modificar la estructura de la vista.
\end{itemize}
Como el primer punto no supone ningún problema, ya que sólo se necesita mo\-dificar el fichero css determinado, no vamos a centra en como se puede modificar un tml.

\begin{figure}[htp]
\centering
\includegraphics*[width=15cm]{imagenes/votetml.png}
\caption{Ejemplo página tml}
\label{tml}
\end{figure}

En esta figura se muestran tres tipos de código representados en colores dife\-rentes:
\begin{itemize}
	\item En negro se recoge el código html puro.
	\item En rojo se distingue el código perteneciente a componentes embebidos.
	\item En azul están los mensajes internacionalizados y los objetos inyectados dentro de la página.
\end{itemize}

Dentro de nuestro ejemplo podemos distinguir:
\begin{itemize}
	\item \textbf{Declaración de un espacio de nombres}
	{\tt \scriptsize
\begin{verbatim}
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:t="http://tapestry.apache.org/schema/tapestry_5_0_0.xsd">
\end{verbatim}
}
	\begin{itemize}
		\item Cualquier elemento o atributo que tenga prefijo t pertenece al espacio de nombres de Tapestry
		\item En el markup generado, no se incluye la importación del espacio de nombres de Tapestry
	\end{itemize}
	\item \textbf{Componentes}
	
	Es posible incluir componentes dentro de una plantilla utilizando el elemento correspondiente (dentro del espacio de nombres de Tapestry).
{\tt \scriptsize
\begin{verbatim}
<t:if t:test="userSessionExists">
</t:if>
\end{verbatim}
}
	\item \textbf{Mensajes internacionalizados}
{\tt \scriptsize
\begin{verbatim}
<spam class="favourite" title="${message:markAsFavourite}" />
\end{verbatim}
}

	\textit{Message}: indica que valor es la clave de un mensaje del catálogo de mensajes. Dicho catálogo forma parte del soporte de internacionalización que proporciona Tapestry:
\begin{itemize}
	\item Permiten que los textos fijos de las plantillas, en lugar de escribirlos directamente en ellas, se escriban
en un fichero de mensajes
	\item Ficheros .properties
	\item Existe un catalogo de mensajes general para toda la aplicación
	\item Es posible definir un fichero de mensajes específicos para una página
\end{itemize}
	\item \textbf{Objetos inyectados o propiedades}
	
	En el caso de acceso a propiedades es posible:	
\begin{itemize}
	\item Referirse a subpropiedades
	\item Invocar a un método del objeto que no sea un getter (utilizando pa\-rentesis a continuacion del
nombre del metodo)
\end{itemize}
\end{itemize}

Gracias a todo esto que se acaba de explicar, un diseñador podría modificar la estructura y la apariencia de la vista teniendo en cuenta que partes del código deben permanecer inalteradas y cuales son modificables, en este caso, el html puro dentro del \textit{tml}.
